---
layout: post
cover: '/assets/images/cover4.jpg'
navigation: True
title: I Have a Dream
date: 2019-02-01 10:18:00
tags: speeches
subclass: 'post tag-speeches'
logo: '/assets/logo/logo.jpg'
author: martin
categories: martin
excerpt: I am happy to join with you today in what will go down in history as the greatest demonstration for freedom in the history of our nation.
---



# github相关使用

> 可参看更加详细的教程http://jmcglone.com/guides/github-pages/.<!-- more -->

## 在GitHub上创建和托管个人网站

* 打开https://github.com/，新建Repositories.

  ![2019-02-02_10-20-24](\img\Snipaste_2019-02-02_10-20-24.png)

* 您的Repositories命名`username.github.io`，替换`username`为您的GitHub用户名。选择public，并且生成一个README文件.

  ![2019-02-02_10-26-52](\img\Snipaste_2019-02-02_10-26-52.png)

  创建完成，访问网址https://username.github.io/，你会发现是一个很丑的页面，类似于这种

  ![2019-02-02_10-31-27](\img\Snipaste_2019-02-02_10-31-27.png)

* 使用Jekyll来优化GitHub pages.

  快速方法是在该http://jekyllthemes.org/网站下载模板，把源代码放在Repositories放在根目录下，像这样

  ![2019-02-02_10-39-05](\img\Snipaste_2019-02-02_10-39-05.png)

  需要注意`.gitignore`文件，该文件告诉Git忽略Jekyll每次提交时的一些目录，(这个是我遇到的问题之一，git提交文件时，总会发现有些文件提交不上去)

* `_config.yml`文件可以配置一些参数，一般下的模板文件都已经配置好，如下.

  ```java
  title: huanggang      
  description: My Personal Blog 
  author: huanggang
  logo: /NanGangHuang.github.io/static/img/avatar.png
  github: https://github.com/NanGangHuang
  about: Java developer
  
  baseurl: "https://nanganghuang.github.io"
  url: "https://nanganghuang.github.io"
  
  allowsearch: true
  
  disqus_shortname: aboutashu
  google_analytics: UA-72862926-1
  
  share:
    twitter_username: \#
    fb_appid: 000000000000
  
  
  enableTags: true
  tagarray: []
  
  paginate: 20
  per_page: 20
  paginate_path: "/page:num/"
  markdown: kramdown
  gems: [jekyll-paginate, jekyll-gist]
  ```

* `_posts/`目录是存储我们博客文章的目录。Jekyll对这些文件的命名方式非常严格，它必须遵循惯例`YYYY-MM-DD-title-of-my-post.md`。此文件名将转换为博客文章的永久链接。所以在这个例子中，我们将创建一个名为的文件`2014-04-30-hank-quinlan-site-launched.md`：

  ```
  ---
  layout: post
  title: "Hank Quinlan, Horrible Cop, Launches Site"
  date: 2014-04-30
  ---
  
  Well. Finally got around to putting this old website together. Neat thing about it - powered by [Jekyll](http://jekyllrb.com) and I can use Markdown to author my posts. It actually is a lot easier than I thought it was going to be
  ```

  提交之后，访问http://username.github.io，找到您的博客，类似如下所示

  ![2019-02-02_10-52-18](\img\Snipaste_2019-02-02_10-52-18.png)

  这样一个简易的个人博客就搭建好了

## 关于代码提交到github

* 使用git

  下载安装git,可参考https://www.jianshu.com/p/c70ca3a02087

  提交指令：

  ```javascript
  //关联好github账号之后
  git add .   // 将所有文件添加到仓库
  git commit -m "提交文件"   //双引号内是提交注释。
  git remote add origin https://github.com/hanyuntao/text.git
  //https://github.com/hanyuntao/text.git为仓库地址
  git push -u origin master  //上传本地代码
  ```

* 使用github desktop 提交文件

  每次更改敲击命令很不方便，可以使用github desktop提交

  1. 下载安装github desktop

  2. file -> Clone repositories 克隆你的仓库到本地，如下图所示

     ![2019-02-02_11-22-39](\img\Snipaste_2019-02-02_11-22-39.png)

  3. 当本地有改动时，会出现如下图所示，两个以上改动，红色框为必填项

     ![2019-02-02_11-26-45](\img\Snipaste_2019-02-02_11-26-45.png)

  4. 选择Repository来进行pull和push.

     ![2019-02-02_11-29-46](\img\Snipaste_2019-02-02_11-29-46.png)

## 使用git回退项目到某一版本

```
git reset --hard c44b40b //本地端回退
git push -f origin master //可使用该命令强制远端与本地保持一致
```

 c44b40b : 为版本号，可在如下图找到

![git20190201](\img\git20190201.png)

## 博客配置

​	博客的基本配置在_config.yml文件中。

```yml
source:      .
destination: ./_site
plugins:     ./_plugins
layouts:     ./_layouts
include:     ['.htaccess']
exclude:     []
keep_files:  ['.git','.svn']
gems:        []
timezone:    nil
encoding:    nil

future:      true
show_drafts: nil
limit_posts: 0
highlighter: pygments

relative_permalinks: true

# 永久链接
# 没有配置或 permalink: date                  |  /2009/04/29/slap-chop.html
# permalink: pretty                          | /2009/04/29/slap-chop/index.html
# permalink: /:month-:day-:year/:title.html  | /04-29-2009/slap-chop.html
# permalink: /blog/:year/:month/:day/:title  | /blog/2009/04/29/slap-chop/index.html
permalink:     date

paginate_path: 'page:num'
paginate:      nil

markdown:      maruku
markdown_ext:  markdown,mkd,mkdn,md
textile_ext:   textile

excerpt_separator: "\n\n"

safe:        false
watch:       false    # deprecated
server:      false    # deprecated
host:        0.0.0.0
port:        4000
baseurl:     /
url:         http://localhost:4000
lsi:         false

maruku:
  use_tex:    false
  use_divs:   false
  png_engine: blahtex
  png_dir:    images/latex
  png_url:    /images/latex
  fenced_code_blocks: true

rdiscount:
  extensions: []

redcarpet:
  extensions: []

kramdown:
  auto_ids: true
  footnote_nr: 1
  entity_output: as_char
  toc_levels: 1..6
  smart_quotes: lsquo,rsquo,ldquo,rdquo
  use_coderay: false

  coderay:
    coderay_wrap: div
    coderay_line_numbers: inline
    coderay_line_numbers_start: 1
    coderay_tab_width: 4
    coderay_bold_every: 10
    coderay_css: style

redcloth:
  hard_breaks: true
```

## Jekyll搭建的博客首页设置文章摘要

- 在index.html文件中添加代码 `{{ post.excerpt | strip_html }}`

- 在_config.yml文件中添加代码 `excerpt_separator:  '<!-- more -->'`

- 在正文后面添加`<!-- more -->`,即截取正文的一部分作为摘要，或者在头信息中直接添加post属性`excerpt`,自定义摘要

  ```yml
  ---
  layout: post
  cover: 'assets/images/cover4.jpg'
  navigation: True
  title: I Have a Dream
  date: 1963-08-28 10:18:00
  tags: speeches
  subclass: 'post tag-speeches'
  logo: 'assets/images/ghost.png'
  author: martin
  categories: martin
  excerpt: I am happy to join with you today in what will go down in history as the greatest demonstration for freedom in the history of our nation.
  ---
  ```

  

注：比较好的资料

Jekyll 中的配置和模板语法：https://gist.github.com/biezhi/f88be58ef4ae0f3741bb36ab8daa53c5